<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#000000">

  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="shortcut icon" href="./favicon.png">

  <link rel="stylesheet" href="./src/index.scss">

  <title>Airbnb GeoSearch with Typesense</title>
  <meta name="description"
        content="Browse and search through a snapshot of AirBnB listings in popular cities around the world.">
  <meta name="keywords" content="airbnb, geosearch, search, search engine, typesense" />

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://airbnb-geosearch.typesense.org">
  <meta property="og:title" content="Instantly Search AirBnB listings with Typesense">
  <meta name="og:description"
        content="Instantly Search and Browse AirBNB listings by features and keywords with Typesense." />
  <meta property="og:image" content="./images/opengraph_banner.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Instantly Search AirBnB listings with Typesense">
  <meta name="twitter:description"
        content="Instantly Search and Browse AirBNB listings by features and keywords with Typesense.">
  <meta name="twitter:image" content="./images/opengraph_banner.png">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116415641-11"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag("js", new Date());

    gtag("config", "UA-116415641-11");
  </script>
</head>

<body>
<div class="row no-gutters">
  <div class="col-sm-8">
    <div id="map"></div>
  </div>
  <div class="col-sm">
    <div id="geosearch-ui" class="container-fluid overflow-auto px-4">
      <div class="row mt-4">
        <div class="col-sm">
          <h1 class="mb-1">AirBnB GeoSearch</h1>
          <div>Powered by
            <a href="https://github.com/typesense/typesense" target="_blank" alt="Typesense" class="ml-1">
              <img src="images/typesense.svg" width="114" height="25" />
            </a>
          </div>
          <div class="text-muted mt-1">
            <a role="button" data-toggle="modal" data-target="#aboutModal">About</a> â€¢
            <a href="https://github.com/typesense/showcase-airbnb-geosearch" target="_blank">Source Code</a>
          </div>
          <div id="stats" class="mt-sm-4 mt-3"></div>
          <h5 class="mt-4 mt-sm-5">Price</h5>
          <div id="price-slider" class="px-3 pb-1"></div>
          <h5 class="mt-4 mt-sm-5">Property Type</h5>
          <div id="property-type-refinement"></div>
          <h5 class="mt-4 mt-sm-5">Amenities</h5>
          <div id="amenities-refinement"></div>
          <h5 class="mt-4 mt-sm-5">Beds</h5>
          <div id="beds-refinement" class="mb-5"></div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- About Modal -->
<div id="aboutModal" class="modal fade" tabindex="-1" aria-labelledby="aboutLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content text-dark">
      <div class="modal-header">
        <h5 class="modal-title font-weight-normal" id="aboutLabel">
          About
        </h5>
        <button type="button" class="close btn btn-primary" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>
          This browsing experience is powered by <a href="https://typesense.org" target="_blank">Typesense</a>
          which is
          a fast, <a href="https://github.com/typesense/typesense" target="_blank">open source</a> typo-tolerant
          search-engine. It is an open source alternative to Algolia and an easier-to-use alternative to
          ElasticSearch.
        </p>
        <p>
          The data is from <a href="http://insideairbnb.com/" target="_blank">insideairbnb.com/</a> and is indexed in
          Typesense.
        </p>
        <p>
          Some technical details:
        </p>
        <ul>
          <li>
            The app was built using the <a href="https://github.com/typesense/typesense-instantsearch-adapter"
                                           target="_blank">
            Typesense Adapter for InstantSearch.js</a> and is hosted on Cloudflare Pages.
          </li>
          <li>
            The search backend is powered by a geo-distributed 3-node Typesense cluster running on <a
            href="https://cloud.typesense.org" target="_blank">Typesense Cloud</a>,
            with nodes in Oregon, Frankfurt and Mumbai.
          </li>
          <li>
            Here is the source-code: <a
            href="https://github.com/typesense/showcase-airbnb-geosearch" target="_blank">https://github.com/typesense/showcase-airbnb-geosearch</a>
          </li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script
  async
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgxtPwK4mBkmolj-GFS_KKvAhRij5OBa0&callback=initMap"
></script>
<script src="./src/app.js"></script>
</body>

</html>
